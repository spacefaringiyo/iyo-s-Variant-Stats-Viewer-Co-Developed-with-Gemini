# locales.py

# Dictionary of all text used in the app
TRANSLATIONS = {
    "en": {
        # Main UI
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "Search for Base Scenario:",
        "ready_label": "Ready. Select stats folder and click 'Load Stats'.",
        "loading_label": "Loading stats, please wait...",
        "loaded_label": "Loaded {count} total runs. Ready to search.",
        "load_err_label": "Load failed or no data found.",
        "load_btn": "Load Stats",
        "refresh_btn": "Refresh Stats (F5)",
        "session_report_btn": "Last Session Report",
        "session_hist_btn": "Session History",
        "select_folder_btn": "Select Stats Folder",
        "hint_hide": "(Right-click Scenario/CM to hide)",
        
        # Lists
        "recently_played": "Recently Played",
        "favorites": "Favorites",
        "recents": "Recents",
        "compare_by": "Compare by:",
        "filter_format": "Filter Format:",
        
        # Settings Row
        "session_gap": "Session Gap (min):",
        "req_refresh": "(Requires Refresh)",
        "theme": "Theme:",
        "show_decimals": "Show Decimals",
        "manage_hidden": "Manage Hidden",
        "font_size": "Font Size:",
        "cell_h": "Cell H:",
        
        # Analysis Modes
        "sens_filter": "Sens Filter:",
        "grid_mode": "Grid Mode:",
        "highlight": "Highlight:",
        "pb_num": "PB #:",
        "target": "Target:",
        
        # Dropdown Options & Radio Buttons
        "opt_all": "All",
        "opt_5cm": "5cm Inc.",
        "opt_10cm": "10cm Inc.",
        "opt_custom_step": "Custom Step",
        "opt_specific": "Specific List",
        
        "mode_pb": "Personal Best",
        "mode_avg": "Average Score",
        "mode_count": "Play Count",
        "mode_percentile": "Nth Percentile",
        
        "hl_none": "None",
        "hl_drop": "Performance Drop",
        "hl_row_heat": "Row Heatmap",
        "hl_global_heat": "Global Heatmap",
        "hl_target": "Target Score",
        "hl_recent_success": "Recent Success (Days)",
        
        # Grid Headers / Tooltips
        "rating": "Rating: {val}",
        "avg_row": "-- Averages --",
        "col_avg": "AVG",
        "col_best": "Best",
        "col_cm": "cm",
        "tooltip_sens": "Sensitivity: {val}",
        "tooltip_pb": "PB: {val} (on {date})",
        "tooltip_runs": "Runs: {val}",
        "tooltip_avg": "Avg: {val}",
        "tooltip_med": "Median: {val} | 75th: {val2}",
        "tooltip_launchpad": "Avg before prev PB: {val}",
        "tooltip_recent": "Recent Avg:    {val}",
        
        # Session Report
        "rep_title": "Session Report - {date}",
        "rep_duration": "Total Duration",
        "rep_active": "Active Playtime",
        "rep_density": "Play Density",
        "rep_plays": "Total Plays",
        "rep_pbs": "Total PBs",
        "rep_browse": "Browse History...",
        "rep_refresh": "Refresh (F5)",
        "rep_summarize": "Summarize by Scenario",
        "rep_sort": "Sort by:",
        "rep_graph_title": "Session Performance Flow",
        
        "sec_played": "Scenarios Played ({count})",
        "sec_pbs": "Personal Bests ({count})",
        "sec_avgs": "Average Score Comparison ({count})",
        "sec_ranks": "Rank Achieved",
        
        "sort_perf": "Performance",
        "sort_count": "Play Count",
        "sort_order": "Order Played",
        "sort_alpha": "Alphabetical",
        
        "lbl_session": "Session: {val} ({count} runs)",
        "lbl_alltime": "All-Time: {val} ({count} runs)",
        "lbl_new_pb": "New PB: {new} (vs. {old})",
        
        # Graph Window
        "graph_view_mode": "View Mode:",
        "graph_raw": "Raw Data",
        "graph_daily": "Daily Average",
        "graph_weekly": "Weekly Average",
        "graph_monthly": "Monthly Average",
        "graph_session": "Session Average",
        
        "graph_hide_low": "Hide scores below:",
        "graph_connect": "Connect Sessions",
        "graph_4color": "4-Color Cycle",
        
        # Misc
        "restart_msg": "Please restart the application to apply language changes.",
        "restart_title": "Restart Required",
        "lang_label": "Language:",
    },
    
    "jp": {
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "シナリオ検索:",
        "ready_label": "準備完了。フォルダを選択して読み込んでください。",
        "loading_label": "読み込み中...",
        "loaded_label": "計{count}件のスコアを読み込みました。",
        "load_err_label": "読み込み失敗、またはデータがありません。",
        "load_btn": "スコア読み込み",
        "refresh_btn": "更新 (F5)",
        "session_report_btn": "前回のセッションレポート",
        "session_hist_btn": "セッション履歴",
        "select_folder_btn": "フォルダ選択",
        "hint_hide": "(シナリオ/cmを右クリックで非表示)",
        
        "recently_played": "最近プレイしたシナリオ",
        "favorites": "お気に入り",
        "recents": "履歴",
        "compare_by": "比較軸:",
        "filter_format": "フィルタ形式:",
        
        "session_gap": "セッション間隔(分):",
        "req_refresh": "(要再読込)",
        "theme": "テーマ:",
        "show_decimals": "小数表示",
        "manage_hidden": "非表示管理",
        "font_size": "文字サイズ:",
        "cell_h": "セル高さ:",
        
        "sens_filter": "感度フィルタ:",
        "grid_mode": "表示モード:",
        "highlight": "ハイライト:",
        "pb_num": "順位:",
        "target": "目標:",
        
        "opt_all": "全て",
        "opt_5cm": "5cm刻み",
        "opt_10cm": "10cm刻み",
        "opt_custom_step": "カスタム刻み",
        "opt_specific": "指定リスト",
        
        "mode_pb": "自己ベスト",
        "mode_avg": "平均スコア",
        "mode_count": "プレイ回数",
        "mode_percentile": "上位 N%",
        
        "hl_none": "なし",
        "hl_drop": "スコア低下",
        "hl_row_heat": "行ヒートマップ",
        "hl_global_heat": "全体ヒートマップ",
        "hl_target": "目標スコア",
        "hl_recent_success": "最近の達成 (日数)",
        
        "rating": "レーティング: {val}",
        "avg_row": "-- 平均 --",
        "col_avg": "平均",
        "col_best": "ベスト",
        "col_cm": "cm",
        "tooltip_sens": "感度: {val}",
        "tooltip_pb": "PB: {val} ({date})",
        "tooltip_runs": "回数: {val}",
        "tooltip_avg": "平均: {val}",
        "tooltip_med": "中央値: {val} | 75%: {val2}",
        "tooltip_launchpad": "PB更新直前の平均: {val}",
        "tooltip_recent": "直近平均:    {val}",
        
        "rep_title": "セッションレポート - {date}",
        "rep_duration": "総時間",
        "rep_active": "プレイ時間",
        "rep_density": "プレイ密度",
        "rep_plays": "プレイ回数",
        "rep_pbs": "更新数",
        "rep_browse": "履歴を見る...",
        "rep_refresh": "更新 (F5)",
        "rep_summarize": "シナリオ別に集計",
        "rep_sort": "並び替え:",
        "rep_graph_title": "セッションパフォーマンス推移",
        
        "sec_played": "プレイしたシナリオ ({count})",
        "sec_pbs": "自己ベスト更新 ({count})",
        "sec_avgs": "平均スコア比較 ({count})",
        "sec_ranks": "ランク獲得数",
        
        "sort_perf": "パフォーマンス",
        "sort_count": "回数",
        "sort_order": "プレイ順",
        "sort_alpha": "名前順",
        
        "lbl_session": "今回: {val} ({count}回)",
        "lbl_alltime": "通算: {val} ({count}回)",
        "lbl_new_pb": "新記録: {new} (旧: {old})",
        
        "graph_view_mode": "表示モード:",
        "graph_raw": "生データ",
        "graph_daily": "日別平均",
        "graph_weekly": "週別平均",
        "graph_monthly": "月別平均",
        "graph_session": "セッション平均",
        
        "graph_hide_low": "以下のスコアを非表示:",
        "graph_connect": "セッションを繋ぐ",
        "graph_4color": "4色サイクル",
        
        "restart_msg": "言語変更を適用するには再起動してください。",
        "restart_title": "再起動が必要です",
        "lang_label": "言語:",
    },

    "pt": {
        "window_title": "Visualizador de Estatísticas KovaaK por iyo & Gemini (v1.23)",
        "search_label": "Buscar Cenário Base:",
        "ready_label": "Pronto. Selecione a pasta e clique em 'Carregar'.",
        "loading_label": "Carregando estatísticas...",
        "loaded_label": "{count} execuções carregadas. Pronto para buscar.",
        "load_err_label": "Falha ao carregar ou sem dados.",
        "load_btn": "Carregar",
        "refresh_btn": "Atualizar (F5)",
        "session_report_btn": "Relatório da Sessão",
        "session_hist_btn": "Histórico de Sessões",
        "select_folder_btn": "Selecionar Pasta",
        "hint_hide": "(Clique direito em Cenário/CM para ocultar)",
        
        "recently_played": "Jogado Recentemente",
        "favorites": "Favoritos",
        "recents": "Recentes",
        "compare_by": "Comparar por:",
        "filter_format": "Formato de Filtro:",
        
        "session_gap": "Intervalo (min):",
        "req_refresh": "(Requer Atualização)",
        "theme": "Tema:",
        "show_decimals": "Decimais",
        "manage_hidden": "Gerenciar Ocultos",
        "font_size": "Tamanho Fonte:",
        "cell_h": "Altura Célula:",
        
        "sens_filter": "Filtro Sens:",
        "grid_mode": "Modo Grade:",
        "highlight": "Destaque:",
        "pb_num": "Top #:",
        "target": "Meta:",
        
        "opt_all": "Todos",
        "opt_5cm": "Passo 5cm",
        "opt_10cm": "Passo 10cm",
        "opt_custom_step": "Passo Personalizado",
        "opt_specific": "Lista Específica",
        
        "mode_pb": "Recorde Pessoal",
        "mode_avg": "Média",
        "mode_count": "Contagem",
        "mode_percentile": "Percentil N",
        
        "hl_none": "Nenhum",
        "hl_drop": "Queda de Desempenho",
        "hl_row_heat": "Mapa de Calor (Linha)",
        "hl_global_heat": "Mapa de Calor (Global)",
        "hl_target": "Meta de Pontuação",
        "hl_recent_success": "Sucesso Recente (Dias)",
        
        "rating": "Avaliação: {val}",
        "avg_row": "-- Médias --",
        "col_avg": "MÉDIA",
        "col_best": "Melhor",
        "col_cm": "cm",
        "tooltip_sens": "Sensibilidade: {val}",
        "tooltip_pb": "RP: {val} (em {date})",
        "tooltip_runs": "Execuções: {val}",
        "tooltip_avg": "Média: {val}",
        "tooltip_med": "Mediana: {val} | 75%: {val2}",
        "tooltip_launchpad": "Média antes do RP anterior: {val}",
        "tooltip_recent": "Média Recente: {val}",
        
        "rep_title": "Relatório da Sessão - {date}",
        "rep_duration": "Duração Total",
        "rep_active": "Tempo Ativo",
        "rep_density": "Densidade",
        "rep_plays": "Total Jogos",
        "rep_pbs": "Total RPs",
        "rep_browse": "Histórico...",
        "rep_refresh": "Atualizar (F5)",
        "rep_summarize": "Resumir por Cenário",
        "rep_sort": "Ordenar:",
        "rep_graph_title": "Fluxo de Desempenho",
        
        "sec_played": "Cenários Jogados ({count})",
        "sec_pbs": "Novos Recordes ({count})",
        "sec_avgs": "Comparação de Médias ({count})",
        "sec_ranks": "Rank Alcançado",
        
        "sort_perf": "Desempenho",
        "sort_count": "Contagem",
        "sort_order": "Ordem Jogado",
        "sort_alpha": "Alfabético",
        
        "lbl_session": "Sessão: {val} ({count} jogos)",
        "lbl_alltime": "Geral: {val} ({count} jogos)",
        "lbl_new_pb": "Novo RP: {new} (vs. {old})",
        
        "graph_view_mode": "Modo de Visualização:",
        "graph_raw": "Dados Brutos",
        "graph_daily": "Média Diária",
        "graph_weekly": "Média Semanal",
        "graph_monthly": "Média Mensal",
        "graph_session": "Média da Sessão",
        
        "graph_hide_low": "Ocultar abaixo de:",
        "graph_connect": "Conectar Sessões",
        "graph_4color": "Ciclo 4 Cores",
        
        "restart_msg": "Por favor, reinicie o aplicativo para aplicar o idioma.",
        "restart_title": "Reinicialização Necessária",
        "lang_label": "Idioma:",
    },

    "cn": {
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "搜索基础场景:",
        "ready_label": "就绪。请选择文件夹并点击“加载统计”。",
        "loading_label": "正在加载统计数据...",
        "loaded_label": "已加载 {count} 条数据。准备搜索。",
        "load_err_label": "加载失败或无数据。",
        "load_btn": "加载统计",
        "refresh_btn": "刷新 (F5)",
        "session_report_btn": "上次会话报告",
        "session_hist_btn": "会话历史",
        "select_folder_btn": "选择文件夹",
        "hint_hide": "(右键点击 场景/CM 以隐藏)",
        
        "recently_played": "最近游玩",
        "favorites": "收藏",
        "recents": "历史记录",
        "compare_by": "比较方式:",
        "filter_format": "过滤格式:",
        
        "session_gap": "会话间隔(分):",
        "req_refresh": "(需刷新)",
        "theme": "主题:",
        "show_decimals": "显示小数",
        "manage_hidden": "管理隐藏项",
        "font_size": "字体大小:",
        "cell_h": "单元格高:",
        
        "sens_filter": "灵敏度过滤:",
        "grid_mode": "网格模式:",
        "highlight": "高亮显示:",
        "pb_num": "排名:",
        "target": "目标:",
        
        "opt_all": "全部",
        "opt_5cm": "5cm 步进",
        "opt_10cm": "10cm 步进",
        "opt_custom_step": "自定义步进",
        "opt_specific": "特定列表",
        
        "mode_pb": "个人最佳 (PB)",
        "mode_avg": "平均分",
        "mode_count": "游玩次数",
        "mode_percentile": "Nth 百分位",
        
        "hl_none": "无",
        "hl_drop": "性能下降",
        "hl_row_heat": "行热力图",
        "hl_global_heat": "全局热力图",
        "hl_target": "目标分数",
        "hl_recent_success": "近期达成 (天数)",
        
        "rating": "评分: {val}",
        "avg_row": "-- 平均 --",
        "col_avg": "平均",
        "col_best": "最佳",
        "col_cm": "cm",
        "tooltip_sens": "灵敏度: {val}",
        "tooltip_pb": "PB: {val} ({date})",
        "tooltip_runs": "次数: {val}",
        "tooltip_avg": "平均: {val}",
        "tooltip_med": "中位数: {val} | 75%: {val2}",
        "tooltip_launchpad": "PB前平均: {val}",
        "tooltip_recent": "近期平均: {val}",
        
        "rep_title": "会话报告 - {date}",
        "rep_duration": "总时长",
        "rep_active": "活跃时间",
        "rep_density": "游玩密度",
        "rep_plays": "总次数",
        "rep_pbs": "PB总数",
        "rep_browse": "浏览历史...",
        "rep_refresh": "刷新 (F5)",
        "rep_summarize": "按场景汇总",
        "rep_sort": "排序:",
        "rep_graph_title": "会话性能趋势",
        
        "sec_played": "游玩场景 ({count})",
        "sec_pbs": "新纪录 ({count})",
        "sec_avgs": "平均分对比 ({count})",
        "sec_ranks": "获得的段位",
        
        "sort_perf": "表现",
        "sort_count": "次数",
        "sort_order": "游玩顺序",
        "sort_alpha": "字母顺序",
        
        "lbl_session": "本次: {val} ({count}次)",
        "lbl_alltime": "历史: {val} ({count}次)",
        "lbl_new_pb": "新PB: {new} (原: {old})",
        
        "graph_view_mode": "视图模式:",
        "graph_raw": "原始数据",
        "graph_daily": "日平均",
        "graph_weekly": "周平均",
        "graph_monthly": "月平均",
        "graph_session": "会话平均",
        
        "graph_hide_low": "隐藏低于:",
        "graph_connect": "连接会话",
        "graph_4color": "4色循环",
        
        "restart_msg": "请重启应用以应用语言更改。",
        "restart_title": "需要重启",
        "lang_label": "语言:",
    },

    "es": {
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "Buscar Escenario Base:",
        "ready_label": "Listo. Seleccione carpeta y haga clic en 'Cargar Estadísticas'.",
        "loading_label": "Cargando estadísticas...",
        "loaded_label": "Se cargaron {count} ejecuciones. Listo.",
        "load_err_label": "Error al cargar o sin datos.",
        "load_btn": "Cargar",
        "refresh_btn": "Actualizar (F5)",
        "session_report_btn": "Informe de Sesión",
        "session_hist_btn": "Historial de Sesiones",
        "select_folder_btn": "Seleccionar Carpeta",
        "hint_hide": "(Clic derecho en Escenario/CM para ocultar)",
        
        "recently_played": "Jugado Recientemente",
        "favorites": "Favoritos",
        "recents": "Recientes",
        "compare_by": "Comparar por:",
        "filter_format": "Formato de Filtro:",
        
        "session_gap": "Brecha Sesión (min):",
        "req_refresh": "(Requiere Actualizar)",
        "theme": "Tema:",
        "show_decimals": "Decimales",
        "manage_hidden": "Gestionar Ocultos",
        "font_size": "Tamaño Fuente:",
        "cell_h": "Altura Celda:",
        
        "sens_filter": "Filtro Sens:",
        "grid_mode": "Modo Cuadrícula:",
        "highlight": "Resaltar:",
        "pb_num": "PB #:",
        "target": "Objetivo:",
        
        "opt_all": "Todos",
        "opt_5cm": "Inc. 5cm",
        "opt_10cm": "Inc. 10cm",
        "opt_custom_step": "Paso Personalizado",
        "opt_specific": "Lista Específica",
        
        "mode_pb": "Récord Personal",
        "mode_avg": "Puntuación Media",
        "mode_count": "Recuento",
        "mode_percentile": "Percentil N",
        
        "hl_none": "Ninguno",
        "hl_drop": "Caída de Rendimiento",
        "hl_row_heat": "Mapa de Calor (Fila)",
        "hl_global_heat": "Mapa de Calor (Global)",
        "hl_target": "Puntuación Objetivo",
        "hl_recent_success": "Éxito Reciente (Días)",
        
        "rating": "Clasificación: {val}",
        "avg_row": "-- Promedios --",
        "col_avg": "PROM",
        "col_best": "Mejor",
        "col_cm": "cm",
        "tooltip_sens": "Sensibilidad: {val}",
        "tooltip_pb": "PB: {val} (el {date})",
        "tooltip_runs": "Ejecuciones: {val}",
        "tooltip_avg": "Prom: {val}",
        "tooltip_med": "Mediana: {val} | 75%: {val2}",
        "tooltip_launchpad": "Promedio antes del PB: {val}",
        "tooltip_recent": "Promedio Reciente: {val}",
        
        "rep_title": "Informe de Sesión - {date}",
        "rep_duration": "Duración Total",
        "rep_active": "Tiempo Activo",
        "rep_density": "Densidad",
        "rep_plays": "Total Jugadas",
        "rep_pbs": "Total PBs",
        "rep_browse": "Explorar Historial...",
        "rep_refresh": "Actualizar (F5)",
        "rep_summarize": "Resumir por Escenario",
        "rep_sort": "Ordenar por:",
        "rep_graph_title": "Flujo de Rendimiento",
        
        "sec_played": "Escenarios Jugados ({count})",
        "sec_pbs": "Récords Personales ({count})",
        "sec_avgs": "Comparación de Promedios ({count})",
        "sec_ranks": "Rango Alcanzado",
        
        "sort_perf": "Rendimiento",
        "sort_count": "Recuento",
        "sort_order": "Orden Jugado",
        "sort_alpha": "Alfabético",
        
        "lbl_session": "Sesión: {val} ({count} jugadas)",
        "lbl_alltime": "Histórico: {val} ({count} jugadas)",
        "lbl_new_pb": "Nuevo PB: {new} (vs. {old})",
        
        "graph_view_mode": "Modo Vista:",
        "graph_raw": "Datos Crudos",
        "graph_daily": "Promedio Diario",
        "graph_weekly": "Promedio Semanal",
        "graph_monthly": "Promedio Mensual",
        "graph_session": "Promedio Sesión",
        
        "graph_hide_low": "Ocultar menos de:",
        "graph_connect": "Conectar Sesiones",
        "graph_4color": "Ciclo 4 Colores",
        
        "restart_msg": "Reinicie la aplicación para aplicar cambios de idioma.",
        "restart_title": "Reinicio Requerido",
        "lang_label": "Idioma:",
    },

    "ko": {
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "기본 시나리오 검색:",
        "ready_label": "준비 완료. 폴더를 선택하고 '통계 불러오기'를 클릭하세요.",
        "loading_label": "통계 불러오는 중...",
        "loaded_label": "총 {count}개의 기록을 불러왔습니다.",
        "load_err_label": "불러오기 실패 또는 데이터 없음.",
        "load_btn": "통계 불러오기",
        "refresh_btn": "새로고침 (F5)",
        "session_report_btn": "최근 세션 리포트",
        "session_hist_btn": "세션 기록",
        "select_folder_btn": "폴더 선택",
        "hint_hide": "(시나리오/CM 우클릭하여 숨기기)",
        
        "recently_played": "최근 플레이",
        "favorites": "즐겨찾기",
        "recents": "검색 기록",
        "compare_by": "비교 기준:",
        "filter_format": "필터 형식:",
        
        "session_gap": "세션 간격(분):",
        "req_refresh": "(새로고침 필요)",
        "theme": "테마:",
        "show_decimals": "소수점 표시",
        "manage_hidden": "숨김 관리",
        "font_size": "글자 크기:",
        "cell_h": "셀 높이:",
        
        "sens_filter": "감도 필터:",
        "grid_mode": "그리드 모드:",
        "highlight": "하이라이트:",
        "pb_num": "순위:",
        "target": "목표:",
        
        "opt_all": "전체",
        "opt_5cm": "5cm 단위",
        "opt_10cm": "10cm 단위",
        "opt_custom_step": "사용자 지정",
        "opt_specific": "특정 리스트",
        
        "mode_pb": "개인 최고 기록 (PB)",
        "mode_avg": "평균 점수",
        "mode_count": "플레이 횟수",
        "mode_percentile": "상위 N%",
        
        "hl_none": "없음",
        "hl_drop": "성능 하락",
        "hl_row_heat": "행 히트맵",
        "hl_global_heat": "전체 히트맵",
        "hl_target": "목표 점수",
        "hl_recent_success": "최근 달성 (일수)",
        
        "rating": "레이팅: {val}",
        "avg_row": "-- 평균 --",
        "col_avg": "평균",
        "col_best": "최고",
        "col_cm": "cm",
        "tooltip_sens": "감도: {val}",
        "tooltip_pb": "PB: {val} ({date})",
        "tooltip_runs": "횟수: {val}",
        "tooltip_avg": "평균: {val}",
        "tooltip_med": "중앙값: {val} | 상위 25%: {val2}",
        "tooltip_launchpad": "PB 달성 직전 평균: {val}",
        "tooltip_recent": "최근 평균: {val}",
        
        "rep_title": "세션 리포트 - {date}",
        "rep_duration": "총 시간",
        "rep_active": "플레이 시간",
        "rep_density": "플레이 밀도",
        "rep_plays": "총 플레이 수",
        "rep_pbs": "PB 갱신 수",
        "rep_browse": "기록 탐색...",
        "rep_refresh": "새로고침 (F5)",
        "rep_summarize": "시나리오별 요약",
        "rep_sort": "정렬:",
        "rep_graph_title": "세션 퍼포먼스 흐름",
        
        "sec_played": "플레이한 시나리오 ({count})",
        "sec_pbs": "기록 갱신 ({count})",
        "sec_avgs": "평균 점수 비교 ({count})",
        "sec_ranks": "획득한 랭크",
        
        "sort_perf": "퍼포먼스",
        "sort_count": "횟수",
        "sort_order": "플레이 순서",
        "sort_alpha": "이름순",
        
        "lbl_session": "이번 세션: {val} ({count}회)",
        "lbl_alltime": "전체 기록: {val} ({count}회)",
        "lbl_new_pb": "신기록: {new} (기존: {old})",
        
        "graph_view_mode": "보기 모드:",
        "graph_raw": "원본 데이터",
        "graph_daily": "일별 평균",
        "graph_weekly": "주별 평균",
        "graph_monthly": "월별 평균",
        "graph_session": "세션 평균",
        
        "graph_hide_low": "낮은 점수 숨기기:",
        "graph_connect": "세션 연결선",
        "graph_4color": "4색 순환",
        
        "restart_msg": "언어 설정을 적용하려면 앱을 다시 시작하세요.",
        "restart_title": "재시작 필요",
        "lang_label": "언어:",
    },

    "ru": {
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "Поиск сценария:",
        "ready_label": "Готово. Выберите папку и нажмите 'Загрузить'.",
        "loading_label": "Загрузка статистики...",
        "loaded_label": "Загружено {count} записей. Готово к поиску.",
        "load_err_label": "Ошибка загрузки или нет данных.",
        "load_btn": "Загрузить",
        "refresh_btn": "Обновить (F5)",
        "session_report_btn": "Отчет о сессии",
        "session_hist_btn": "История сессий",
        "select_folder_btn": "Выбрать папку",
        "hint_hide": "(ПКМ по Сценарию/CM чтобы скрыть)",
        
        "recently_played": "Недавно сыгранные",
        "favorites": "Избранное",
        "recents": "История",
        "compare_by": "Сравнить по:",
        "filter_format": "Формат фильтра:",
        
        "session_gap": "Разрыв сессии (мин):",
        "req_refresh": "(Требует обновления)",
        "theme": "Тема:",
        "show_decimals": "Десятичные",
        "manage_hidden": "Скрытые",
        "font_size": "Размер шрифта:",
        "cell_h": "Высота ячейки:",
        
        "sens_filter": "Фильтр сенсы:",
        "grid_mode": "Режим сетки:",
        "highlight": "Подсветка:",
        "pb_num": "Топ #:",
        "target": "Цель:",
        
        "opt_all": "Все",
        "opt_5cm": "Шаг 5см",
        "opt_10cm": "Шаг 10см",
        "opt_custom_step": "Свой шаг",
        "opt_specific": "Список",
        
        "mode_pb": "Рекорд (PB)",
        "mode_avg": "Средний",
        "mode_count": "Количество",
        "mode_percentile": "N-й процентиль",
        
        "hl_none": "Нет",
        "hl_drop": "Падение",
        "hl_row_heat": "Тепловая карта (Ряд)",
        "hl_global_heat": "Тепловая карта (Все)",
        "hl_target": "Целевой счет",
        "hl_recent_success": "Недавний успех (Дни)",
        
        "rating": "Рейтинг: {val}",
        "avg_row": "-- Среднее --",
        "col_avg": "СРЕД",
        "col_best": "Лучший",
        "col_cm": "см",
        "tooltip_sens": "Сенса: {val}",
        "tooltip_pb": "PB: {val} ({date})",
        "tooltip_runs": "Запуски: {val}",
        "tooltip_avg": "Сред: {val}",
        "tooltip_med": "Медиана: {val} | 75%: {val2}",
        "tooltip_launchpad": "Среднее перед PB: {val}",
        "tooltip_recent": "Недавнее среднее: {val}",
        
        "rep_title": "Отчет о сессии - {date}",
        "rep_duration": "Общее время",
        "rep_active": "Время игры",
        "rep_density": "Плотность",
        "rep_plays": "Всего игр",
        "rep_pbs": "Всего PB",
        "rep_browse": "Обзор истории...",
        "rep_refresh": "Обновить (F5)",
        "rep_summarize": "Сгруппировать",
        "rep_sort": "Сортировка:",
        "rep_graph_title": "График производительности",
        
        "sec_played": "Сценарии ({count})",
        "sec_pbs": "Новые рекорды ({count})",
        "sec_avgs": "Сравнение среднего ({count})",
        "sec_ranks": "Полученные ранги",
        
        "sort_perf": "Эффективность",
        "sort_count": "Количество",
        "sort_order": "Порядок",
        "sort_alpha": "Алфавит",
        
        "lbl_session": "Сессия: {val} ({count})",
        "lbl_alltime": "Все время: {val} ({count})",
        "lbl_new_pb": "Новый PB: {new} (был: {old})",
        
        "graph_view_mode": "Режим просмотра:",
        "graph_raw": "Сырые данные",
        "graph_daily": "По дням",
        "graph_weekly": "По неделям",
        "graph_monthly": "По месяцам",
        "graph_session": "По сессиям",
        
        "graph_hide_low": "Скрыть ниже:",
        "graph_connect": "Соединить линии",
        "graph_4color": "4 цвета",
        
        "restart_msg": "Перезапустите приложение для смены языка.",
        "restart_title": "Требуется перезапуск",
        "lang_label": "Язык:",
    },

    "ua": {
        "window_title": "Variant Stats Viewer by iyo & Gemini (v1.23)",
        "search_label": "Пошук сценарію:",
        "ready_label": "Готово. Оберіть папку та натисніть 'Завантажити'.",
        "loading_label": "Завантаження статистики...",
        "loaded_label": "Завантажено {count} записів.",
        "load_err_label": "Помилка завантаження або немає даних.",
        "load_btn": "Завантажити",
        "refresh_btn": "Оновити (F5)",
        "session_report_btn": "Звіт сесії",
        "session_hist_btn": "Історія сесій",
        "select_folder_btn": "Обрати папку",
        "hint_hide": "(ПКМ по Сценарію/CM щоб приховати)",
        
        "recently_played": "Нещодавно зіграні",
        "favorites": "Обране",
        "recents": "Історія",
        "compare_by": "Порівняти за:",
        "filter_format": "Формат фільтру:",
        
        "session_gap": "Інтервал сесії (хв):",
        "req_refresh": "(Потрібне оновлення)",
        "theme": "Тема:",
        "show_decimals": "Десяткові",
        "manage_hidden": "Приховані",
        "font_size": "Розмір шрифту:",
        "cell_h": "Висота клітинки:",
        
        "sens_filter": "Фільтр сенси:",
        "grid_mode": "Режим сітки:",
        "highlight": "Підсвітка:",
        "pb_num": "Топ #:",
        "target": "Мета:",
        
        "opt_all": "Всі",
        "opt_5cm": "Крок 5см",
        "opt_10cm": "Крок 10см",
        "opt_custom_step": "Власний крок",
        "opt_specific": "Список",
        
        "mode_pb": "Рекорд (PB)",
        "mode_avg": "Середнє",
        "mode_count": "Кількість",
        "mode_percentile": "N-й процентиль",
        
        "hl_none": "Ні",
        "hl_drop": "Падіння",
        "hl_row_heat": "Теплова карта (Ряд)",
        "hl_global_heat": "Теплова карта (Все)",
        "hl_target": "Цільовий рахунок",
        "hl_recent_success": "Нещодавній успіх (Дні)",
        
        "rating": "Рейтинг: {val}",
        "avg_row": "-- Середнє --",
        "col_avg": "СЕРЕД",
        "col_best": "Найкраще",
        "col_cm": "см",
        "tooltip_sens": "Сенса: {val}",
        "tooltip_pb": "PB: {val} ({date})",
        "tooltip_runs": "Запуски: {val}",
        "tooltip_avg": "Серед: {val}",
        "tooltip_med": "Медіана: {val} | 75%: {val2}",
        "tooltip_launchpad": "Середнє перед PB: {val}",
        "tooltip_recent": "Нещодавнє середнє: {val}",
        
        "rep_title": "Звіт про сесію - {date}",
        "rep_duration": "Загальний час",
        "rep_active": "Час гри",
        "rep_density": "Щільність",
        "rep_plays": "Всього ігор",
        "rep_pbs": "Всього PB",
        "rep_browse": "Огляд історії...",
        "rep_refresh": "Оновити (F5)",
        "rep_summarize": "Згрупувати",
        "rep_sort": "Сортування:",
        "rep_graph_title": "Графік продуктивності",
        
        "sec_played": "Сценарії ({count})",
        "sec_pbs": "Нові рекорди ({count})",
        "sec_avgs": "Порівняння середнього ({count})",
        "sec_ranks": "Отримані ранги",
        
        "sort_perf": "Ефективність",
        "sort_count": "Кількість",
        "sort_order": "Порядок",
        "sort_alpha": "Алфавіт",
        
        "lbl_session": "Сесія: {val} ({count})",
        "lbl_alltime": "Весь час: {val} ({count})",
        "lbl_new_pb": "Новий PB: {new} (був: {old})",
        
        "graph_view_mode": "Режим перегляду:",
        "graph_raw": "Сирі дані",
        "graph_daily": "По днях",
        "graph_weekly": "По тижнях",
        "graph_monthly": "По місяцях",
        "graph_session": "По сесіях",
        
        "graph_hide_low": "Приховати нижче:",
        "graph_connect": "З'єднати лінії",
        "graph_4color": "4 кольори",
        
        "restart_msg": "Перезапустіть додаток для зміни мови.",
        "restart_title": "Потрібен перезапуск",
        "lang_label": "Мова:",
    }
}

def get_text(lang_code, key, **kwargs):
    """
    Retrieves text for the given language code and key.
    Falls back to 'en' if language or key is missing.
    Accepts kwargs for string formatting (e.g., {val}).
    """
    lang_dict = TRANSLATIONS.get(lang_code, TRANSLATIONS["en"])
    text = lang_dict.get(key, TRANSLATIONS["en"].get(key, f"MISSING: {key}"))
    
    if kwargs:
        try:
            return text.format(**kwargs)
        except KeyError:
            return text
    return text